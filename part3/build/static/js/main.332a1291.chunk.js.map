{"version":3,"sources":["Components/AddForm.js","Components/Persons.js","Components/Filter.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["AddForm","props","onSubmit","handleSubmit","value","new_name","onChange","handleNameChange","new_number","handleNumberChange","type","Person","name","number","onClick","handleDelete","id","Persons","filtered_persons","length","map","person","persons","Filter","handleFilterChange","name_filter","url","service","getAll","axios","get","create","newObject","post","update","updatedObject","put","remove","delete","Notification","message","msgType","notifyStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","color","style","App","useState","setPersons","setNewName","setNewNumber","setFilter","setFilteredPersons","setMessage","setMsgType","useEffect","personService","then","res","data","event","new_name_filter","target","temp","filter","toUpperCase","includes","preventDefault","thisPerson","find","window","confirm","updatedPerson","catch","err","new_person","concat","setTimeout","thisId","parseInt","getAttribute","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.332a1291.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst AddForm = props => {\r\n  return (\r\n    <>\r\n      <form onSubmit={props.handleSubmit}>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>name:</td>\r\n              <td><input value={props.new_name} onChange={props.handleNameChange} /></td>\r\n            </tr>\r\n            <tr>\r\n              <td>number:</td>\r\n              <td><input value={props.new_number} onChange={props.handleNumberChange} /></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddForm;","import React from 'react';\r\n\r\nconst Person = props => {\r\n  return (\r\n    <tr>\r\n      <td>{props.name}</td>\r\n      <td>{props.number}</td>\r\n      <td><button onClick={props.handleDelete} id={props.id}>delete</button></td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst Persons = props => {\r\n  if (props.filtered_persons === 'EMPTY') return <p>No person found</p>\r\n  else if (!(props.filtered_persons.length === 0))\r\n    return (\r\n      <table>\r\n        <tbody>\r\n          {props.filtered_persons.map(person => {\r\n            return <Person key={person.id} name={person.name} number={person.number} handleDelete={props.handleDelete} id={person.id} />;\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    );\r\n\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {props.persons.map(person => {\r\n          return <Person key={person.id} name={person.name} number={person.number}handleDelete={props.handleDelete} id={person.id} />;\r\n        })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Filter = props => {\r\n  return (\r\n    <>\r\n      filter shown with: <input onChange={props.handleFilterChange} value={props.name_filter} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Filter;","import axios from 'axios';\r\n\r\nconst url = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  return axios.get(url);\r\n};\r\n\r\nconst create = newObject => {\r\n  return axios.post(url, newObject);\r\n};\r\n\r\nconst update = (id, updatedObject) => {\r\n  return axios.put(`${url}/${id}`, updatedObject);\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${url}/${id}`);\r\n};\r\n\r\nconst service = {getAll, create, update, remove};\r\n\r\nexport default service;","import React from 'react';\r\n\r\nconst Notification = ({message, msgType}) => {\r\n  if (message === null) return null;\r\n\r\n  const notifyStyle = {\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  };\r\n\r\n  if (msgType === \"success\")\r\n    notifyStyle.color = \"green\";\r\n  else if (msgType === \"error\")\r\n    notifyStyle.color = \"red\";\r\n\r\n  return (\r\n    <div style={notifyStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport AddForm from './Components/AddForm';\nimport Persons from './Components/Persons';\nimport Filter from './Components/Filter';\nimport personService from './services/persons';\nimport Notification from './Components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ new_name, setNewName ] = useState('');\n  const [ new_number, setNewNumber ] = useState('');\n  const [ name_filter, setFilter ] = useState('');\n  const [ filtered_persons, setFilteredPersons ] = useState([]);\n  const [ message, setMessage ] = useState(null);\n  const [ msgType, setMsgType ] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(res => {\n      setPersons(res.data);\n    })\n  }, []);\n\n  const addPerson = event => {\n    event.preventDefault();\n    setMsgType(\"success\");\n    \n    const thisPerson = persons.find(person => person.name === new_name);\n    if (thisPerson) {\n      const result = window.confirm(`${new_name} is already added to phonebook, replace the old number with the new one?`);\n      if (result) {\n        const updatedPerson = {...thisPerson, number: new_number};\n        \n        personService.update(updatedPerson.id, updatedPerson).then(res => {\n          setPersons(persons.map(person => {\n            return person.id !== updatedPerson.id ? person : res.data;\n          }));\n          setNewName('');\n          setNewNumber('');\n          setFilter('');\n          setFilteredPersons([]);\n\n          setMessage(`${res.data.name}'s number has been updated with ${res.data.number}`);\n        }).catch(err => {\n          setMsgType(\"error\");\n          setMessage(`${updatedPerson.name} has already been removed`);\n          setPersons(persons.filter(person => person.id !== updatedPerson.id));\n        });\n      }\n    } else {\n      const new_person = {\n        name: new_name,\n        number: new_number\n      };\n  \n      personService.create(new_person).then(res => {\n        setPersons(persons.concat(res.data));\n        setNewName('');\n        setNewNumber('');\n        setFilter('');\n        setFilteredPersons([]);\n  \n        setMessage(`${res.data.name} added`);\n      });\n    }\n\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = event => {\n    const new_name_filter = event.target.value;\n    setFilter(new_name_filter);\n\n    if (!(new_name_filter.length === 0)) {\n      const temp = persons.filter(person => {\n        return person.name.toUpperCase().includes(new_name_filter.toUpperCase());\n      });\n      if (temp.length === 0) setFilteredPersons('EMPTY');\n      else setFilteredPersons(temp);\n    }\n    else setFilteredPersons([]);\n  }\n\n  const handleDelete = event => {\n    setMsgType(\"error\");\n    const thisId = parseInt(event.target.getAttribute('id'));\n    const thisPerson = persons.find(person => person.id === thisId );\n    const result = window.confirm(`Delete ${thisPerson.name}?`);\n\n    if (result)\n      personService.remove(thisId).then(res => {\n        setPersons(persons.filter(person => {\n          return person.id !== thisId;\n        }));\n\n        setMessage(`${thisPerson.name} deleted`);\n      });\n\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  }\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Notification message={message} msgType={msgType} />\n      <Filter handleFilterChange={handleFilterChange} name_filter={name_filter} />\n\n      <h1>Add a new</h1>\n      <AddForm\n        handleSubmit={addPerson}\n        handleNameChange={handleNameChange}\n        new_name={new_name}\n        handleNumberChange={handleNumberChange}\n        new_number={new_number}\n      />\n\n      <h1>Numbers</h1>\n      <Persons persons={persons} filtered_persons={filtered_persons} handleDelete={handleDelete} />\n    </>\n  )\n};\n\nexport default App;","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}